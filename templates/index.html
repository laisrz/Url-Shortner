<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="static/styles.css">
        <title>URL Shortener</title>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-light bg-light">
                <a class="navbar-brand">
                <img src="static/logo.jpeg" width="30" height="30" class="d-inline-block align-top" alt="logo">
                URL Shortner
                </a>
            </nav>
        </header>
        <main class="w-100 m-auto form-container ">
            <div class="row">
                <div class="mx-auto col-10 col-md-8 col-lg-6 border bg-light">
                <!-- URL Shortner Form -->
                        <form id="urlform">
                            <h1 class="h3 mb-3 fw-normal">Paste your URL</h1>
                            <div class="form-floating">
                                <label for="floatingInput">Original URL</label>
                                <input class="form-control" name="original_url" type="url" placeholder="URL">
                            </div>
                            <br>
                            <div class="form-floating">
                                <label>Expiration Date (optional)</label>
                                <input name="expiration_date" type="date" placeholder="YYYY-MM-DD">
                            </div>
                            <br>
                            <button type="submit" class="btn btn-outline-dark btn-block">Submit</button>
                        </form>
                </div>
            </div>
        </main>
        <script>
            const formURL = document.querySelector('#urlform');

            formURL.addEventListener('submit', event => {
                event.preventDefault();

                const formData = new FormData(formURL);
                const data = Object.fromEntries(formData);

                fetch('http://127.0.0.1:5000', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                }).then(data => console.log(data))
            });

        </script>
    </body>
    <footer class="bg-light text-center text-lg-start">
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
          <a class="text-dark" href="https://www.freepik.com/free-vector/illustration-share-icon_2606142.htm#query=link&position=8&from_view=search&track=sph">Image by rawpixel.com</a>
          on Freepik
        </div>
    </footer>
</html>